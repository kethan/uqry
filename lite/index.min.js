var uqry=function(e){const r=(e,t)=>{if(e===t)return!0;if(null==e||null==t||typeof e!=typeof t)return!1;if("object"==typeof e){if(e.map!==t.map)return!1;const y=Object.keys(e),s=Object.keys(t);return y.length===s.length&&y.every((y=>r(e[y],t[y])))}return!1},t={$eq:r,$ne:(e,t)=>!r(e,t),$gt:(e,r)=>r>e,$gte:(e,r)=>r>=e,$lt:(e,r)=>r<e,$lte:(e,r)=>r<=e,$in:(e,r)=>(Array.isArray(e)?e:[e]).some((e=>y(e)(r))),$nin:(e,r)=>!(Array.isArray(e)?e:[e]).some((e=>y(e)(r))),$and:(e,r)=>e.every((e=>y(e)(r))),$or:(e,r)=>e.some((e=>y(e)(r))),$not:(e,r)=>!y(e)(r),$regex:(e,r)=>new RegExp(e).test(r),$exists:(e,r)=>void 0!==r,$type:(e,r)=>typeof r===e,$elemMatch:(e,r)=>(Array.isArray(r)?r:[r]).some((r=>y(e)(r))),$all:(e,r)=>Array.isArray(r)&&e.every((e=>r.some((r=>y(e)(r))))),$size:(e,r)=>!!Array.isArray(r)&&r.length===e},y=e=>s=>"object"!=typeof e||Array.isArray(e)?r(s,e):Object.entries(e).every((([e,r])=>"string"==typeof e&&e.startsWith("$")?t[e](r,s):y(r)(((e,r)=>(Array.isArray(r)?r:r.split(".")).reduce(((e,r)=>e?e[r]:e),e))(s,e))));return e.add=(e,r,y)=>t[r]=y,e.filter=y,e.isEqual=r,e}({});